<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>FuelFlow | Rider Dashboard</title>

	<!-- Bootstrap 5 CSS -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<!-- Font Awesome -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
	<!-- Bootstrap JS Bundle with Popper -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
	<!-- jQuery (for AJAX) -->
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<!-- Animate CSS -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">

	<style>
		:root {
			--primary: #0066ff;
			--primary-light: #4d94ff;
			--primary-dark: #0052cc;
			--secondary: #7c3aed;
			--success: #10b981;
			--warning: #f59e0b;
			--danger: #ef4444;
			--info: #3b82f6;
			--light: #f8fafc;
			--dark: #1e293b;
			--gray: #64748b;
			--gray-light: #e2e8f0;
			--white: #ffffff;
			--sidebar-width: 280px;
			--header-height: 80px;
			--topnav-height: 70px;
			--radius-lg: 20px;
			--radius-md: 12px;
			--radius-sm: 8px;
			--shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
			--shadow-lg: 0 10px 25px rgba(0, 0, 0, 0.15);
			--shadow-xl: 0 20px 40px rgba(0, 0, 0, 0.1);
			--gradient-primary: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
			--gradient-success: linear-gradient(135deg, var(--success) 0%, #34d399 100%);
			--gradient-warning: linear-gradient(135deg, var(--warning) 0%, #fbbf24 100%);
		}

		* {
			margin: 0;
			padding: 0;
			box-sizing: border-box;
		}

		body {
			font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
			background: linear-gradient(135deg, #f6f9ff 0%, #f0f5ff 100%);
			min-height: 100vh;
			color: var(--dark);
			overflow-x: hidden;
			padding-top: var(--topnav-height);
		}

		/* Custom Scrollbar */
		::-webkit-scrollbar {
			width: 8px;
			height: 8px;
		}

		::-webkit-scrollbar-track {
			background: #f1f1f1;
			border-radius: 4px;
		}

		::-webkit-scrollbar-thumb {
			background: var(--primary-light);
			border-radius: 4px;
		}

		::-webkit-scrollbar-thumb:hover {
			background: var(--primary);
		}

		/* Top Navigation Bar */
		.top-nav {
			position: fixed;
			top: 0;
			left: var(--sidebar-width);
			right: 0;
			height: var(--topnav-height);
			background: rgba(255, 255, 255, 0.95);
			backdrop-filter: blur(10px);
			border-bottom: 1px solid rgba(0, 0, 0, 0.1);
			z-index: 1000;
			padding: 0 30px;
			display: flex;
			align-items: center;
			justify-content: space-between;
			box-shadow: 0 2px 20px rgba(0, 0, 0, 0.05);
			transition: all 0.3s ease;
		}

		@media (max-width: 992px) {
			.top-nav {
				left: 0;
			}
		}

		.nav-left,
		.nav-right {
			display: flex;
			align-items: center;
			gap: 20px;
		}

		.nav-center {
			flex: 1;
			display: flex;
			justify-content: center;
		}

		.welcome-text h2 {
			font-size: 22px;
			font-weight: 700;
			background: var(--gradient-primary);
			-webkit-background-clip: text;
			-webkit-text-fill-color: transparent;
			margin: 0;
		}

		.welcome-text p {
			font-size: 13px;
			color: var(--gray);
			margin: 0;
		}

		.search-container {
			position: relative;
			width: 300px;
		}

		.search-input {
			width: 100%;
			padding: 12px 45px 12px 20px;
			border: 1px solid var(--gray-light);
			border-radius: var(--radius-md);
			background: var(--light);
			font-size: 14px;
			transition: all 0.3s ease;
		}

		.search-input:focus {
			outline: none;
			border-color: var(--primary);
			box-shadow: 0 0 0 3px rgba(0, 102, 255, 0.1);
			background: white;
		}

		.search-icon {
			position: absolute;
			right: 15px;
			top: 50%;
			transform: translateY(-50%);
			color: var(--gray);
			font-size: 16px;
		}

		.nav-btn {
			display: flex;
			align-items: center;
			gap: 8px;
			padding: 10px 20px;
			border-radius: var(--radius-md);
			border: 1px solid var(--gray-light);
			background: white;
			color: var(--dark);
			font-weight: 500;
			font-size: 14px;
			transition: all 0.3s ease;
			text-decoration: none;
			cursor: pointer;
		}

		.nav-btn:hover {
			background: var(--gradient-primary);
			color: white;
			border-color: transparent;
			transform: translateY(-2px);
			box-shadow: var(--shadow-lg);
		}

		.nav-btn i {
			font-size: 16px;
		}

		.quick-stats {
			display: flex;
			gap: 15px;
		}

		.stat-badge-nav {
			padding: 6px 15px;
			border-radius: 20px;
			font-size: 12px;
			font-weight: 600;
			display: flex;
			align-items: center;
			gap: 6px;
			background: rgba(0, 102, 255, 0.1);
			color: var(--primary);
		}

		.stat-badge-nav i {
			font-size: 14px;
		}

		.user-menu {
			position: relative;
		}

		.user-btn {
			display: flex;
			align-items: center;
			gap: 10px;
			padding: 8px 15px;
			border-radius: var(--radius-md);
			background: rgba(0, 102, 255, 0.1);
			border: none;
			cursor: pointer;
			transition: all 0.3s ease;
		}

		.user-btn:hover {
			background: rgba(0, 102, 255, 0.2);
		}

		.user-avatar-small {
			width: 40px;
			height: 40px;
			border-radius: 50%;
			background: var(--gradient-primary);
			display: flex;
			align-items: center;
			justify-content: center;
			color: white;
			font-weight: 600;
			font-size: 16px;
		}

		.user-info-small h4 {
			font-size: 14px;
			font-weight: 600;
			margin: 0;
		}

		.user-info-small p {
			font-size: 12px;
			color: var(--gray);
			margin: 0;
			display: flex;
			align-items: center;
			gap: 4px;
		}

		.status-dot {
			width: 8px;
			height: 8px;
			border-radius: 50%;
			background: var(--success);
			display: inline-block;
			animation: pulse 2s infinite;
		}

		.dropdown-menu {
			position: absolute;
			top: calc(100% + 10px);
			right: 0;
			background: white;
			border-radius: var(--radius-md);
			box-shadow: var(--shadow-lg);
			min-width: 200px;
			display: none;
			z-index: 1001;
			border: 1px solid var(--gray-light);
		}

		.dropdown-menu.show {
			display: block;
			animation: slideDown 0.3s ease;
		}

		.dropdown-item {
			padding: 12px 20px;
			display: flex;
			align-items: center;
			gap: 10px;
			color: var(--dark);
			text-decoration: none;
			transition: all 0.3s ease;
			border-bottom: 1px solid var(--gray-light);
		}

		.dropdown-item:last-child {
			border-bottom: none;
		}

		.dropdown-item:hover {
			background: rgba(0, 102, 255, 0.1);
			color: var(--primary);
			padding-left: 25px;
		}

		.dropdown-item i {
			width: 20px;
			text-align: center;
		}

		/* Layout */
		.app-container {
			display: flex;
			min-height: calc(100vh - var(--topnav-height));
		}

		/* Sidebar */
		.sidebar {
			width: var(--sidebar-width);
			background: var(--white);
			box-shadow: var(--shadow);
			padding: 30px 0;
			position: fixed;
			height: 100vh;
			left: 0;
			top: 0;
			z-index: 999;
			transition: all 0.3s ease;
		}

		.sidebar-header {
			padding: 0 25px 30px;
			border-bottom: 1px solid var(--gray-light);
			margin-bottom: 30px;
		}

		.logo {
			display: flex;
			align-items: center;
			gap: 12px;
			font-size: 24px;
			font-weight: 800;
			color: var(--dark);
			text-decoration: none;
		}

		.logo-icon {
			width: 40px;
			height: 40px;
			background: var(--gradient-primary);
			border-radius: 12px;
			display: flex;
			align-items: center;
			justify-content: center;
			color: white;
			font-size: 20px;
		}

		.sidebar-menu {
			padding: 0 20px;
		}

		.menu-item {
			display: flex;
			align-items: center;
			gap: 15px;
			padding: 16px 20px;
			margin-bottom: 8px;
			border-radius: var(--radius-md);
			color: var(--gray);
			text-decoration: none;
			font-weight: 500;
			transition: all 0.3s ease;
			position: relative;
			overflow: hidden;
		}

		.menu-item:hover {
			background: linear-gradient(135deg, rgba(0, 102, 255, 0.1) 0%, rgba(124, 58, 237, 0.1) 100%);
			color: var(--primary);
			transform: translateX(5px);
		}

		.menu-item.active {
			background: var(--gradient-primary);
			color: white;
			box-shadow: 0 4px 15px rgba(0, 102, 255, 0.3);
		}

		.menu-item i {
			font-size: 18px;
			width: 24px;
			text-align: center;
		}

		.menu-item::after {
			content: '';
			position: absolute;
			right: 0;
			top: 50%;
			transform: translateY(-50%);
			width: 4px;
			height: 0;
			background: var(--primary);
			border-radius: 2px;
			transition: height 0.3s ease;
		}

		.menu-item:hover::after {
			height: 60%;
		}

		.menu-item.active::after {
			height: 60%;
			background: white;
		}

		.user-profile {
			position: absolute;
			bottom: 30px;
			left: 0;
			right: 0;
			padding: 20px 25px;
			border-top: 1px solid var(--gray-light);
			display: flex;
			align-items: center;
			gap: 15px;
		}

		.user-avatar {
			width: 50px;
			height: 50px;
			border-radius: 50%;
			background: var(--gradient-primary);
			display: flex;
			align-items: center;
			justify-content: center;
			color: white;
			font-size: 20px;
			font-weight: 600;
			border: 3px solid white;
			box-shadow: var(--shadow);
		}

		.user-info h4 {
			font-size: 16px;
			font-weight: 600;
			margin-bottom: 4px;
		}

		.user-info p {
			font-size: 12px;
			color: var(--gray);
			display: flex;
			align-items: center;
			gap: 6px;
		}

		.user-status {
			width: 8px;
			height: 8px;
			border-radius: 50%;
			background: var(--success);
			display: inline-block;
			animation: pulse 2s infinite;
		}

		/* Main Content */
		.main-content {
			flex: 1;
			margin-left: var(--sidebar-width);
			padding: 30px;
			min-height: 100vh;
		}

		/* Header */
		.main-header {
			display: flex;
			justify-content: space-between;
			align-items: center;
			margin-bottom: 40px;
			padding-bottom: 20px;
			border-bottom: 1px solid var(--gray-light);
		}

		.header-title h1 {
			font-size: 32px;
			font-weight: 800;
			background: var(--gradient-primary);
			-webkit-background-clip: text;
			-webkit-text-fill-color: transparent;
			margin-bottom: 8px;
		}

		.header-title p {
			color: var(--gray);
			font-size: 15px;
		}

		.header-actions {
			display: flex;
			align-items: center;
			gap: 20px;
		}

		.notification-btn {
			position: relative;
			background: white;
			border: 1px solid var(--gray-light);
			width: 48px;
			height: 48px;
			border-radius: 12px;
			display: flex;
			align-items: center;
			justify-content: center;
			color: var(--gray);
			font-size: 18px;
			transition: all 0.3s ease;
			cursor: pointer;
		}

		.notification-btn:hover {
			background: var(--gradient-primary);
			color: white;
			border-color: transparent;
			transform: translateY(-2px);
			box-shadow: var(--shadow-lg);
		}

		.notification-badge {
			position: absolute;
			top: -5px;
			right: -5px;
			width: 20px;
			height: 20px;
			background: var(--danger);
			color: white;
			border-radius: 50%;
			font-size: 10px;
			font-weight: 600;
			display: flex;
			align-items: center;
			justify-content: center;
		}

		/* Stats Cards */
		.stats-grid {
			display: grid;
			grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
			gap: 25px;
			margin-bottom: 40px;
		}

		.stat-card {
			background: white;
			border-radius: var(--radius-lg);
			padding: 30px;
			box-shadow: var(--shadow);
			transition: all 0.3s ease;
			position: relative;
			overflow: hidden;
			border: 1px solid var(--gray-light);
		}

		.stat-card:hover {
			transform: translateY(-5px);
			box-shadow: var(--shadow-xl);
			border-color: var(--primary-light);
		}

		.stat-card::before {
			content: '';
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 5px;
			background: var(--gradient-primary);
			opacity: 0;
			transition: opacity 0.3s ease;
		}

		.stat-card:hover::before {
			opacity: 1;
		}

		.stat-header {
			display: flex;
			justify-content: space-between;
			align-items: center;
			margin-bottom: 25px;
		}

		.stat-icon {
			width: 60px;
			height: 60px;
			border-radius: 16px;
			display: flex;
			align-items: center;
			justify-content: center;
			font-size: 24px;
			color: white;
			background: var(--gradient-primary);
			box-shadow: 0 4px 15px rgba(0, 102, 255, 0.3);
			transition: all 0.3s ease;
		}

		.stat-card:hover .stat-icon {
			transform: scale(1.1) rotate(5deg);
		}

		.stat-badge {
			padding: 6px 16px;
			border-radius: 20px;
			font-size: 12px;
			font-weight: 600;
			text-transform: uppercase;
			letter-spacing: 0.5px;
			background: rgba(0, 102, 255, 0.1);
			color: var(--primary);
		}

		.stat-content {
			position: relative;
			z-index: 1;
		}

		.stat-value {
			font-size: 36px;
			font-weight: 800;
			margin-bottom: 10px;
			color: var(--dark);
			line-height: 1;
		}

		.stat-label {
			font-size: 16px;
			color: var(--gray);
			margin-bottom: 15px;
			font-weight: 500;
		}

		.stat-desc {
			font-size: 14px;
			color: var(--gray);
			opacity: 0.8;
		}

		/* Orders Section */
		.section-header {
			display: flex;
			justify-content: space-between;
			align-items: center;
			margin-bottom: 35px;
		}

		.section-title {
			font-size: 24px;
			font-weight: 700;
			color: var(--dark);
			position: relative;
			padding-left: 20px;
		}

		.section-title::before {
			content: '';
			position: absolute;
			left: 0;
			top: 50%;
			transform: translateY(-50%);
			width: 6px;
			height: 30px;
			background: var(--gradient-primary);
			border-radius: 3px;
		}

		.section-actions {
			display: flex;
			gap: 15px;
			align-items: center;
		}

		.btn-refresh {
			background: var(--gradient-primary);
			color: white;
			border: none;
			padding: 14px 28px;
			border-radius: var(--radius-md);
			font-weight: 600;
			font-size: 15px;
			display: flex;
			align-items: center;
			gap: 10px;
			transition: all 0.3s ease;
			cursor: pointer;
			box-shadow: 0 4px 15px rgba(0, 102, 255, 0.3);
		}

		.btn-refresh:hover {
			transform: translateY(-2px);
			box-shadow: 0 8px 25px rgba(0, 102, 255, 0.4);
		}

		.btn-refresh:disabled {
			opacity: 0.7;
			cursor: not-allowed;
			transform: none !important;
		}

		.btn-refresh i {
			font-size: 16px;
		}

		/* Orders Grid */
		.orders-grid {
			display: grid;
			grid-template-columns: repeat(auto-fill, minmax(400px, 1fr));
			gap: 30px;
			margin-bottom: 60px;
		}

		.order-card {
			background: white;
			border-radius: var(--radius-lg);
			overflow: hidden;
			box-shadow: var(--shadow);
			transition: all 0.3s ease;
			border: 1px solid var(--gray-light);
			position: relative;
		}

		.order-card:hover {
			transform: translateY(-8px);
			box-shadow: var(--shadow-xl);
			border-color: var(--primary-light);
		}

		.order-card::before {
			content: '';
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 5px;
			background: var(--gradient-primary);
			opacity: 0;
			transition: opacity 0.3s ease;
		}

		.order-card:hover::before {
			opacity: 1;
		}

		.order-header {
			padding: 25px 30px;
			background: linear-gradient(135deg, #f8faff 0%, #ffffff 100%);
			border-bottom: 1px solid var(--gray-light);
			display: flex;
			justify-content: space-between;
			align-items: center;
		}

		.order-id {
			font-size: 20px;
			font-weight: 700;
			color: var(--dark);
			display: flex;
			align-items: center;
			gap: 12px;
		}

		.order-id i {
			color: var(--primary);
			font-size: 22px;
		}

		.order-status {
			font-size: 12px;
			font-weight: 700;
			padding: 8px 20px;
			border-radius: 20px;
			background: var(--gradient-warning);
			color: white;
			text-transform: uppercase;
			letter-spacing: 0.5px;
			box-shadow: 0 2px 8px rgba(245, 158, 11, 0.3);
		}

		.order-content {
			padding: 30px;
		}

		.order-row {
			display: flex;
			justify-content: space-between;
			align-items: center;
			padding: 18px 0;
			border-bottom: 1px solid var(--gray-light);
			transition: all 0.3s ease;
		}

		.order-row:last-child {
			border-bottom: none;
		}

		.order-row:hover {
			background: rgba(0, 102, 255, 0.02);
			margin: 0 -30px;
			padding: 18px 30px;
			border-radius: 8px;
		}

		.order-label {
			display: flex;
			align-items: center;
			gap: 12px;
			color: var(--gray);
			font-size: 15px;
			font-weight: 500;
		}

		.order-label i {
			color: var(--primary);
			font-size: 16px;
			width: 20px;
			text-align: center;
		}

		.order-value {
			font-weight: 600;
			color: var(--dark);
			font-size: 16px;
			text-align: right;
		}

		.fuel-badge {
			padding: 8px 20px;
			border-radius: var(--radius-sm);
			font-size: 14px;
			font-weight: 600;
			background: linear-gradient(135deg, rgba(0, 102, 255, 0.1) 0%, rgba(0, 102, 255, 0.2) 100%);
			color: var(--primary);
			border: 1px solid rgba(0, 102, 255, 0.2);
		}

		.order-actions {
			margin-top: 25px;
		}

		.btn-accept {
			width: 100%;
			background: var(--gradient-success);
			color: white;
			border: none;
			padding: 18px;
			border-radius: var(--radius-md);
			font-weight: 600;
			font-size: 16px;
			display: flex;
			align-items: center;
			justify-content: center;
			gap: 12px;
			transition: all 0.3s ease;
			cursor: pointer;
			box-shadow: 0 4px 15px rgba(16, 185, 129, 0.3);
		}

		.btn-accept:hover {
			transform: translateY(-2px);
			box-shadow: 0 8px 25px rgba(16, 185, 129, 0.4);
		}

		.btn-accept i {
			font-size: 18px;
		}

		/* Empty State */
		.empty-state {
			grid-column: 1 / -1;
			text-align: center;
			padding: 80px 40px;
			background: white;
			border-radius: var(--radius-lg);
			border: 2px dashed var(--gray-light);
			box-shadow: var(--shadow);
			margin: 30px 0;
		}

		.empty-state i {
			font-size: 72px;
			margin-bottom: 30px;
			background: var(--gradient-primary);
			-webkit-background-clip: text;
			-webkit-text-fill-color: transparent;
			opacity: 0.7;
		}

		.empty-state h3 {
			font-size: 28px;
			font-weight: 700;
			color: var(--dark);
			margin-bottom: 15px;
		}

		.empty-state p {
			color: var(--gray);
			font-size: 16px;
			max-width: 500px;
			margin: 0 auto 35px;
			line-height: 1.8;
		}

		/* Alerts */
		.alerts-container {
			margin-bottom: 30px;
		}

		.alert {
			padding: 20px 25px;
			border-radius: var(--radius-md);
			margin-bottom: 20px;
			border: none;
			box-shadow: var(--shadow);
			display: flex;
			align-items: center;
			gap: 15px;
			position: relative;
			overflow: hidden;
			animation: slideIn 0.3s ease-out;
		}

		.alert::before {
			content: '';
			position: absolute;
			left: 0;
			top: 0;
			height: 100%;
			width: 5px;
		}

		.alert-success {
			background: linear-gradient(135deg, rgba(16, 185, 129, 0.1) 0%, rgba(16, 185, 129, 0.05) 100%);
			color: #065f46;
			border-left: 5px solid var(--success);
		}

		.alert-danger {
			background: linear-gradient(135deg, rgba(239, 68, 68, 0.1) 0%, rgba(239, 68, 68, 0.05) 100%);
			color: #991b1b;
			border-left: 5px solid var(--danger);
		}

		.alert i {
			font-size: 22px;
		}

		.alert p {
			margin: 0;
			font-size: 15px;
			font-weight: 500;
		}

		/* Loading State */
		.loading {
			position: relative;
			pointer-events: none;
		}

		.loading::after {
			content: '';
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background: rgba(255, 255, 255, 0.9);
			border-radius: var(--radius-lg);
			z-index: 10;
			display: flex;
			align-items: center;
			justify-content: center;
			font-size: 24px;
			color: var(--primary);
		}

		/* Animations */
		@keyframes fadeIn {
			from {
				opacity: 0;
				transform: translateY(20px);
			}

			to {
				opacity: 1;
				transform: translateY(0);
			}
		}

		@keyframes slideIn {
			from {
				opacity: 0;
				transform: translateX(-20px);
			}

			to {
				opacity: 1;
				transform: translateX(0);
			}
		}

		@keyframes slideDown {
			from {
				opacity: 0;
				transform: translateY(-10px);
			}

			to {
				opacity: 1;
				transform: translateY(0);
			}
		}

		@keyframes pulse {

			0%,
			100% {
				opacity: 1;
			}

			50% {
				opacity: 0.5;
			}
		}

		@keyframes float {

			0%,
			100% {
				transform: translateY(0);
			}

			50% {
				transform: translateY(-10px);
			}
		}

		.fade-in {
			animation: fadeIn 0.4s ease-out;
		}

		.pulse {
			animation: pulse 2s infinite;
		}

		.float {
			animation: float 3s ease-in-out infinite;
		}

		/* Responsive Design */
		@media (max-width: 1200px) {
			.orders-grid {
				grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
			}

			.search-container {
				width: 250px;
			}

			.welcome-text h2 {
				font-size: 20px;
			}
		}

		@media (max-width: 992px) {
			.sidebar {
				transform: translateX(-100%);
			}

			.main-content {
				margin-left: 0;
			}

			.sidebar.active {
				transform: translateX(0);
			}

			.top-nav {
				left: 0;
			}

			.menu-toggle {
				display: block;
			}

			.nav-center {
				display: none;
			}

			.quick-stats {
				display: none;
			}
		}

		@media (max-width: 768px) {
			.orders-grid {
				grid-template-columns: 1fr;
			}

			.main-content {
				padding: 20px;
			}

			.stats-grid {
				grid-template-columns: 1fr;
			}

			.section-header {
				flex-direction: column;
				gap: 20px;
				text-align: center;
			}

			.section-title::before {
				left: 50%;
				transform: translateX(-50%) translateY(-50%);
			}

			.top-nav {
				padding: 0 15px;
			}

			.nav-btn span {
				display: none;
			}

			.nav-btn {
				padding: 10px;
				min-width: 40px;
				justify-content: center;
			}

			.user-btn {
				padding: 8px;
			}

			.user-info-small {
				display: none;
			}
		}

		@media (max-width: 576px) {
			.main-header {
				flex-direction: column;
				gap: 20px;
				text-align: center;
			}

			.header-actions {
				width: 100%;
				justify-content: center;
			}

			.btn-refresh,
			.btn-accept {
				padding: 12px 20px;
				font-size: 14px;
			}

			.stat-card,
			.order-content {
				padding: 25px;
			}

			.top-nav {
				padding: 0 10px;
			}
		}

		/* Status Badge Variations */
		.status-pending {
			background: linear-gradient(135deg, var(--warning) 0%, #fbbf24 100%) !important;
		}

		.status-accepted {
			background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%) !important;
		}

		.status-delivered {
			background: linear-gradient(135deg, var(--success) 0%, #34d399 100%) !important;
		}

		/* Badge */
		.badge {
			padding: 6px 15px;
			border-radius: 20px;
			font-size: 12px;
			font-weight: 600;
			display: inline-flex;
			align-items: center;
			gap: 5px;
		}

		.badge-primary {
			background: rgba(0, 102, 255, 0.1);
			color: var(--primary);
		}

		.badge-success {
			background: rgba(16, 185, 129, 0.1);
			color: var(--success);
		}

		.badge-warning {
			background: rgba(245, 158, 11, 0.1);
			color: var(--warning);
		}

		/* Menu Toggle Button (for mobile) */
		.menu-toggle {
			display: none;
			position: fixed;
			top: 20px;
			left: 20px;
			z-index: 1001;
			background: var(--gradient-primary);
			color: white;
			border: none;
			width: 50px;
			height: 50px;
			border-radius: 12px;
			font-size: 20px;
			cursor: pointer;
			box-shadow: var(--shadow-lg);
			transition: all 0.3s ease;
		}

		.menu-toggle:hover {
			transform: scale(1.1);
		}

		/* Overlay for mobile menu */
		.sidebar-overlay {
			display: none;
			position: fixed;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
			background: rgba(0, 0, 0, 0.5);
			z-index: 998;
		}

		.sidebar-overlay.active {
			display: block;
		}
	</style>

	<script>
		let isRefreshing = false;
		let locationDetected = false;
		let userDropdownOpen = false;

		function detectRiderLocation() {
			if (!navigator.geolocation) {
				showAlert('Geolocation is not supported by your browser', 'danger');
				return;
			}

			// Show loading state
			$('#locationStatus').text('Detecting...');
			$('#locationBadge').html('<i class="fas fa-spinner fa-spin"></i> Detecting');

			navigator.geolocation.getCurrentPosition(
				function (position) {
					$('#riderLat').val(position.coords.latitude);
					$('#riderLng').val(position.coords.longitude);

					locationDetected = true;
					updateLocationStatus(true);
					refreshOrdersWithLocation();

					// Show success message
					showAlert('Location detected successfully! Loading nearby orders...', 'success');
				},
				function () {
					showAlert('Please allow location access to see nearby orders.', 'danger');
					updateLocationStatus(false);
					locationDetected = false;
				},
				{
					enableHighAccuracy: true,
					timeout: 10000,
					maximumAge: 0
				}
			);
		}

		function refreshOrdersWithLocation() {
			if (isRefreshing) return;
			if (!locationDetected) {
				detectRiderLocation();
				return;
			}

			const lat = $('#riderLat').val();
			const lng = $('#riderLng').val();

			isRefreshing = true;

			$('#refreshBtn')
				.prop('disabled', true)
				.html('<i class="fas fa-spinner fa-spin"></i> Refreshing...');

			$('#ordersSection').addClass('loading');

			// Add shimmer effect to cards
			$('.order-card').addClass('animate__animated animate__pulse');

			$.ajax({
				url: '/refresh',
				type: 'GET',
				data: {riderLat: lat, riderLng: lng},
				success: function (data) {
					$('#ordersSection').html(data);
					updateOrderCount();
					updateQuickStats();

					// Add animation to new cards
					setTimeout(() => {
						$('.order-card').addClass('animate__animated animate__fadeIn');
					}, 100);
				},
				error: function () {
					showAlert('Failed to refresh orders. Please try again.', 'danger');
				},
				complete: function () {
					isRefreshing = false;
					$('#refreshBtn')
						.prop('disabled', false)
						.html('<i class="fas fa-sync-alt"></i> Refresh Orders');
					$('#ordersSection').removeClass('loading');
					$('.order-card').removeClass('animate__animated animate__pulse');
				}
			});
		}

		function updateLocationStatus(success) {
			$('#locationStatus').text(success ? 'Active' : 'Inactive');
			$('#locationText').text(success ? 'Location detected' : 'Location not available');
			$('#locationIcon').toggleClass('fa-map-marker-alt', success).toggleClass('fa-map-marker-alt-slash', !success);
			$('#locationBadge').toggleClass('badge-success', success).toggleClass('badge-warning', !success)
				.html(success ? '<i class="fas fa-check-circle"></i> Active' : '<i class="fas fa-exclamation-circle"></i> Inactive');

			// Update stat icon color
			$('#locationStatIcon').css('background',
				success ? 'var(--gradient-primary)' : 'linear-gradient(135deg, #ef4444 0%, #dc2626 100%)'
			);
		}

		function updateOrderCount() {
			const count = $('.order-card').length;
			$('#orderCount').text(count);
			$('#ordersBadge').text(count);

			// Update top nav order count
			$('#navOrderCount').text(count);

			// Update badge color based on count
			const badge = $('#ordersStatIcon').next('.stat-badge');
			badge.toggleClass('badge-primary', count > 0).toggleClass('badge-warning', count === 0);
			badge.text(count > 0 ? `${count} Active` : 'No Orders');
		}

		function updateQuickStats() {
			const count = $('.order-card').length;
			const distance = calculateTotalDistance();

			$('#navOrderCount').text(count);
			$('#navTotalDistance').text(distance + ' km');
		}

		function calculateTotalDistance() {
			let total = 0;
			$('.order-row:nth-child(4) .order-value').each(function () {
				const text = $(this).text().trim();
				const distance = parseFloat(text.replace('km', '').trim());
				if (!isNaN(distance)) {
					total += distance;
				}
			});
			return total.toFixed(1);
		}

		function showAlert(message, type) {
			const cls = type === 'danger' ? 'alert-danger' : 'alert-success';
			const icon = type === 'danger' ? 'fa-exclamation-circle' : 'fa-check-circle';

			$('.alerts-container').html(
				`<div class="alert ${cls} animate__animated animate__fadeIn">
					<i class="fas ${icon}"></i>
					<p>${message}</p>
				</div>`
			);

			if (type === 'success') {
				setTimeout(() => {
					$('.alerts-container .alert').fadeOut();
				}, 5000);
			}
		}

		function toggleUserDropdown() {
			userDropdownOpen = !userDropdownOpen;
			$('#userDropdown').toggleClass('show');
		}

		function closeUserDropdown() {
			userDropdownOpen = false;
			$('#userDropdown').removeClass('show');
		}

		function toggleSidebar() {
			$('.sidebar').toggleClass('active');
			$('.sidebar-overlay').toggleClass('active');
		}

		function closeSidebar() {
			$('.sidebar').removeClass('active');
			$('.sidebar-overlay').removeClass('active');
		}

		$(document).ready(function () {
			detectRiderLocation();

			// Initialize order count
			updateOrderCount();
			updateQuickStats();

			// Add event listeners
			$('#refreshBtn').on('click', refreshOrdersWithLocation);
			$('#refreshBtnTop').on('click', refreshOrdersWithLocation);
			$('.menu-toggle').on('click', toggleSidebar);
			$('.sidebar-overlay').on('click', closeSidebar);
			$('#userBtn').on('click', toggleUserDropdown);

			// Close dropdown when clicking outside
			$(document).on('click', function (event) {
				if (!$(event.target).closest('.user-menu').length) {
					closeUserDropdown();
				}
			});

			// Search functionality
			$('#searchInput').on('keyup', function () {
				const searchTerm = $(this).val().toLowerCase();
				$('.order-card').each(function () {
					const orderText = $(this).text().toLowerCase();
					if (orderText.indexOf(searchTerm) > -1) {
						$(this).show();
					} else {
						$(this).hide();
					}
				});
			});

			// Add hover effects
			$('.stat-card, .order-card').hover(
				function () {
					$(this).addClass('animate__animated animate__pulse');
				},
				function () {
					$(this).removeClass('animate__animated animate__pulse');
				}
			);

			// Add click animation to buttons
			$('.btn-refresh, .btn-accept, .notification-btn, .nav-btn').on('click', function () {
				$(this).addClass('animate__animated animate__bounce');
				setTimeout(() => {
					$(this).removeClass('animate__animated animate__bounce');
				}, 1000);
			});

			// Auto-refresh every 30 seconds
			setInterval(function () {
				if (locationDetected && !isRefreshing) {
					refreshOrdersWithLocation();
				}
			}, 30000);

			// Initialize animations
			$('.stat-card, .order-card').addClass('animate__animated animate__fadeInUp');
		});
	</script>
</head>

<body>
	<!-- Mobile Menu Toggle -->
	<button class="menu-toggle">
		<i class="fas fa-bars"></i>
	</button>

	<!-- Sidebar Overlay -->
	<div class="sidebar-overlay"></div>

	<!-- Top Navigation Bar -->
	<nav class="top-nav">
		<div class="nav-left">
			<div class="welcome-text">
				<h2>Welcome back, Rider!</h2>
				<p>Ready to deliver fuel efficiently today</p>
			</div>
		</div>

		<div class="nav-center">
			<div class="search-container">
				<input type="text" id="searchInput" class="search-input" placeholder="Search orders...">
				<i class="fas fa-search search-icon"></i>
			</div>
		</div>

		<div class="nav-right">
			<div class="quick-stats">
				<span class="stat-badge-nav">
					<i class="fas fa-bolt"></i>
					<span id="navOrderCount">0</span> Orders
				</span>
				<span class="stat-badge-nav">
					<i class="fas fa-route"></i>
					<span id="navTotalDistance">0</span> km
				</span>
			</div>

			<button class="nav-btn" id="refreshBtnTop">
				<i class="fas fa-sync-alt"></i>
				<span>Refresh</span>
			</button>

			<button class="notification-btn">
				<i class="fas fa-bell"></i>
				<span class="notification-badge">3</span>
			</button>

			<div class="user-menu">
				<button class="user-btn" id="userBtn">
					<div class="user-avatar-small">R</div>
					<div class="user-info-small">
						<h4>Rider</h4>
						<p><span class="status-dot"></span> Online</p>
					</div>
					<i class="fas fa-chevron-down"></i>
				</button>

				<div class="dropdown-menu" id="userDropdown">
					<a href="#" class="dropdown-item">
						<i class="fas fa-user"></i>
						My Profile
					</a>
					<a href="#" class="dropdown-item">
						<i class="fas fa-cog"></i>
						Settings
					</a>
					<a href="#" class="dropdown-item">
						<i class="fas fa-chart-line"></i>
						Earnings
					</a>
					<a href="#" class="dropdown-item">
						<i class="fas fa-question-circle"></i>
						Help & Support
					</a>
					<hr style="margin: 5px 0; border-color: var(--gray-light);">
					<a href="/logout" class="dropdown-item">
						<i class="fas fa-sign-out-alt"></i>
						Logout
					</a>
				</div>
			</div>
		</div>
	</nav>

	<div class="app-container">
		<!-- Sidebar -->
		<aside class="sidebar">
			<div class="sidebar-header">
				<a href="#" class="logo">
					<div class="logo-icon">
						<i class="fas fa-gas-pump"></i>
					</div>
					<span>FuelFlow</span>
				</a>
			</div>

			<nav class="sidebar-menu">
				<a href="#" class="menu-item active">
					<i class="fas fa-tachometer-alt"></i>
					<span>Dashboard</span>
				</a>
				<a href="/orders" class="menu-item">
					<i class="fas fa-list"></i>
					<span>My Orders</span>
					<span class="badge badge-primary" id="ordersBadge" style="margin-left: auto;">0</span>
				</a>
				<a href="#" class="menu-item">
					<i class="fas fa-map-marked-alt"></i>
					<span>Live Tracking</span>
				</a>
				<a href="#" class="menu-item">
					<i class="fas fa-chart-line"></i>
					<span>Earnings</span>
				</a>
			</nav>

			<div class="user-profile">
				<div class="user-avatar">R</div>
				<div class="user-info">
					<h4>Rider Dashboard</h4>
					<p>
						<span class="user-status"></span>
						Online
					</p>
				</div>
			</div>
		</aside>


		<!-- Main Content -->
		<main class="main-content">

			<input type="hidden" id="riderLat">
			<input type="hidden" id="riderLng">

			<!-- Alerts Container -->
			<div class="alerts-container"></div>

			<!-- Orders Grid -->
			<div id="ordersSection" class="orders-grid">
				<!-- Dynamic content will be loaded here -->
				<div th:each="order : ${orders}" class="order-card animate__animated animate__fadeIn">
					<div class="order-header">
						<div class="order-id">
							<i class="fas fa-bolt"></i>
							Order #<span th:text="${order.id}"></span>
						</div>
						<span class="order-status" th:text="${order.status}">PENDING</span>
					</div>

					<div class="order-content">
						<div class="order-row">
							<div class="order-label">
								<i class="fas fa-gas-pump"></i>
								Fuel Type
							</div>
							<div class="order-value">
								<span class="fuel-badge" th:text="${order.fuelType}"></span>
							</div>
						</div>

						<div class="order-row">
							<div class="order-label">
								<i class="fas fa-weight-hanging"></i>
								Quantity
							</div>
							<span class="order-value" th:text="${order.quantity + ' L'}"></span>
						</div>

						<div class="order-row">
							<div class="order-label">
								<i class="fas fa-map-marker-alt"></i>
								Delivery Address
							</div>
							<span class="order-value" th:text="${order.deliveryAddress}"></span>
						</div>

						<div class="order-row">
							<div class="order-label">
								<i class="fas fa-route"></i>
								Distance
							</div>
							<span class="order-value">
								<span th:text="${order.distanceFormatted}"></span> km
							</span>
						</div>

						<div class="order-actions">
							<form th:action="@{/accept-order}" method="post">
								<input type="hidden" name="bookingId" th:value="${order.id}">
								<button type="submit" class="btn-accept animate__animated">
									<i class="fas fa-check"></i> Accept Order
								</button>
							</form>
						</div>
					</div>
				</div>

				<!-- Empty State -->
				<div th:if="${orders != null and orders.empty}" class="empty-state animate__animated animate__fadeIn">
					<i class="fas fa-inbox float"></i>
					<h3>No Orders Available</h3>
					<p>There are currently no fuel delivery orders in your area. Please check back later or refresh the
						page to see new orders.</p>
					<button class="btn-refresh" onclick="refreshOrdersWithLocation()" style="margin-top: 20px;">
						<i class="fas fa-sync-alt"></i> Check for Orders
					</button>
				</div>
			</div>
		</main>
	</div>
</body>

</html>